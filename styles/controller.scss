@use 'sass:math';
@import 'main';

$gap: 2rem;
$top: 33vh;
$margin-big: 80px;

html,
body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: $color-dark;
  position: fixed;
  user-select: none;
  margin: 0;
  // color: #afafaf;
}

.swipe {
  overflow: hidden;
  visibility: hidden;
  position: relative;
  height: 100%;

  #navigation {
    // background-color: red;
    position: fixed;
    bottom: math.div($margin-big, 2);
    left: 0px;
    right: 0px;
    // height: 40px;
    text-align: center;
    span {
      $size: 0.5em;
      display: inline-block;
      width: $size;
      height: $size;
      border-radius: 0%;
      border: solid 1px $color-light;
      margin: 0 15px;
      transition: background-color $transition-duration;

      &.active {
        background-color: $color-blue;
        animation: glow 1s ease-in-out infinite alternate;
      }
    }
  }
  .swipe-wrap {
    overflow: hidden;
    position: relative;
    height: 100%;
    perspective: 1px;
    perspective-origin: 0 0;

    > * {
      will-change: transform;
    }

    .page {
      font-size: 1.1em;
      transform-style: preserve-3d;
      float: left;
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
      color: $color-light;
      background-color: $color-dark;
      padding: $margin-big;

      h1 {
        @include textCrop;

        color: transparent;
        -webkit-text-stroke: 1px $color-light;
        margin: 0;
        font-size: 3em;
        font-weight: lighter;
        text-align: center;
      }

      h2,
      h3 {
        @include textCrop;

        font-weight: lighter;
        margin: 0px;
        padding: 0px;
      }
      h2 {

        color: transparent;
        -webkit-text-stroke: 1px $color-light;
        font-size: 3em;
        margin-top: 0;
        margin-bottom: $gap;
      }
      h3 {

        color: $color-blue;
        margin-bottom: $gap;
      }

      footer,
      p {
        @include textCrop;

        margin: 0 0 $gap 0;
        // color: #afafaf;
        white-space: pre-line;
        font-weight: 100;

        // &:last-of-type {
        //   margin-bottom: 0;
        // }
      }

      footer,
      p.interaction {
        color: $color-blue;
      }

      &--home {
        padding-top: $top;
        display: flex;
        align-items: center;
        flex-direction: column;
        position: relative;
      }

      &--about {
        display: flex;
        flex-direction: column;

        .logo {
          height: 1em;
          width: 100%;
          background-repeat: no-repeat;
          background-image: url(../assets/ecal-logo-white.svg);
        }
      }

      &--student {
        padding-top: $top;

        .imageWrapper {
          z-index: -1;
          transform-style: preserve-3d;
          transform: translateZ(-100px);
          opacity: 1;
          @include fullAbsolute;
          height: calc(#{$top} + 6em);

          &::after {
            content: '';
            @include fullAbsolute;
            background: linear-gradient(
              0deg,
              rgba(0, 0, 0, 1) 0%,
              rgba(0, 0, 0, 0) 50%
            );
          }

          > img {
            @include fullAbsolute;
            object-fit: cover;
          }
        }

        .content {
          display: flex;
          flex-direction: column;
          position: relative;
        }
      }
    }
  }
}

#debug {
  width: 250px;
  background-color: $color-light;
  border-radius: 10px;
  position: fixed;
  bottom: 20px;
  left: 20px;
  padding: 20px;
  color: $color-dark;
  display: none;
}

.glow {
  will-change: text-shadow;
  //text-shadow: 0 0 5px currentColor, 0 0 10px currentColor;
  // animation: glowText 1s ease-in-out infinite alternate;
}

@-webkit-keyframes glowText {
  from {
    text-shadow: 0 0 3px currentColor, 0 0 10px #{$color-blue};
  }
  to {
    text-shadow: 0 0 6px currentColor, 0 0 20px #{$color-blue};
  }
}

@-webkit-keyframes glow {
  from {
    box-shadow: 0 0 5px #{$color-blue};
  }
  to {
    box-shadow: 0 0 10px #{$color-blue};
  }
}
